<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ขนำลุงดำ - จองที่พัก</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div id="loader">กำลังเตรียมขนำ...</div>

    <header>
        <img src="https://lh3.googleusercontent.com/pw/..." class="logo">
        <h1>ขนำลุงดำ</h1>
    </header>

    <main id="app">
        <!-- Step 1: เลือกวันที่ -->
        <section class="card">
            <h3>1. เลือกวันเข้าพัก</h3>
            <div class="grid-2">
                <div>
                    <label>Check-in</label>
                    <input type="date" id="checkIn" onchange="onDateChange()">
                </div>
                <div>
                    <label>Check-out</label>
                    <input type="date" id="checkOut" onchange="onDateChange()">
                </div>
            </div>
        </section>

        <!-- Step 2: ผังที่พัก -->
        <section class="card">
            <h3>2. เลือกห้องจากผัง</h3>
            <div class="layout-wrapper">
                <div class="layout-container" id="layout">
                    <img src="https://lh3.googleusercontent.com/pw/AP1GczNzsJplv6jr4mDDSC8wsMLS6T8-qOXwcOW3nE2yXJ-z5WWRWw7Q2XssA87-tUh6NFuStIUbPxYcOzjup6jSEpgEG1rOs2vMQ0VZ3AcKP4-qisvj7gLWcZlP0p4YRJoWYBbLQpy7kcuuSoGHeP9c2Hmq=w913-h913-s-no-gm?authuser=0" class="map-img">
                    <!-- Hotspots will be injected here -->
                    <div class="hotspot" id="spot-NP" style="top:44%; left:30%;" onclick="selectRoom('NP')">NP</div>
                    <div class="hotspot" id="spot-RN1" style="top:52%; left:22%;" onclick="selectRoom('RN1')">RN1</div>
                    <div class="hotspot" id="spot-RN2" style="top:52%; left:32%;" onclick="selectRoom('RN2')">RN2</div>
                    <div class="hotspot" id="spot-G1" style="top:62%; left:25%;" onclick="selectRoom('G1')">G1</div>
                    <div class="hotspot" id="spot-G2" style="top:62%; left:35%;" onclick="selectRoom('G2')">G2</div>
                    <div class="hotspot" id="spot-K1" style="top:75%; left:28%;" onclick="selectRoom('K1')">K1</div>
                    <div class="hotspot" id="spot-K2" style="top:75%; left:38%;" onclick="selectRoom('K2')">K2</div>
                    <div class="hotspot" id="spot-CAMP" style="top:85%; left:50%; width:80px; border-radius:10px;" onclick="selectRoom('CAMP')">CAMP</div>
                </div>
            </div>
            <div class="legend">
                <span><i class="dot available"></i> ว่าง</span>
                <span><i class="dot booked"></i> เต็ม</span>
                <span><i class="dot selected"></i> เลือกอยู่</span>
            </div>
        </section>

        <!-- Step 3: รายละเอียดการจอง -->
        <section id="details" class="card hidden">
            <h3>3. ข้อมูลผู้จอง</h3>
            <div id="room-configs"></div>
            
            <input type="text" id="custName" placeholder="ชื่อผู้จอง">
            <input type="tel" id="custPhone" placeholder="เบอร์โทรศัพท์">
            <textarea id="note" placeholder="หมายเหตุ (ถ้ามี)"></textarea>

            <div class="summary">
                <p>ราคารวม: <span id="txt-total">0</span> บาท</p>
                <p class="highlight">มัดจำที่ต้องจ่าย: <span id="txt-deposit">0</span> บาท</p>
            </div>

            <div class="payment">
                <p>โอนเงินผ่าน PromptPay</p>
                <p><b>0615924262 (อลงกต ทวีผ่อง)</b></p>
                <input type="file" id="slip" accept="image/*" onchange="previewSlip()">
                <img id="slip-preview" class="hidden">
            </div>

            <button class="btn-submit" onclick="submitBooking()">ยืนยันการจอง</button>
        </section>
    </main>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="app.js"></script>
</body>
</html>
